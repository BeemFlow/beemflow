name: echo_await_resume
description: |
  Demonstrate direct resume via API (not webhooks).

  This flow pauses and waits for manual resumption via:
    POST /runs/resume/<token>

  The resume token is auto-generated as: {run_id}-step-{step_idx}
  Check the logs when the flow pauses to see the token.

  For webhook-based resumption (SMS, Slack, etc.), see sms_approval_demo.flow.yaml

on: cli.manual

steps:
  - id: echo_start
    use: core.echo
    with:
      text: "Flow started - will pause at next step"

  - id: wait_for_resume
    await_event:
      source: test
      match: {}  # Empty match - any event from 'test' source resumes
      timeout: 1h

  - id: echo_resumed
    use: core.echo
    with:
      text: "Resumed! Event data: {{ event }}" 