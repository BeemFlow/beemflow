name: test_nested_parallel
description: Simple test to debug nested parallel issue
on: cli.manual

vars:
  items: ["alpha", "beta"]

steps:
  # Test nested parallel within foreach
  - id: nested_test
    foreach: "{{items}}"
    as: "item"
    do:
      - id: "ops_{{item}}"
        parallel: true
        steps:
          - id: "upper_{{item}}"
            use: core.echo
            with:
              text: "{{item | upper}}"
          - id: "length_{{item}}"
            use: core.echo
            with:
              text: "{{item | length}}"
          - id: "reverse_{{item}}"
            use: core.echo
            with:
              text: "{{item | reverse}}" 